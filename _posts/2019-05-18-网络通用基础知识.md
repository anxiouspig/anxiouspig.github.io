---
layout:     post
title:      网络通用基础知识
subtitle:   网络通用基础知识
date:       2019-05-18
author:     anxious pig
header-img: img/pexels-photo-1936936.jpeg
catalog: true
tags:
    - 网络
---
# 网络的构成要素
#### 网络的构成要素

|名称|说明|
|---|---|
|节点(node) | 计算机、交换机、路由器等构成网络的硬件均可称为通信节点|
|链路(link)|泛指将各个节点进行连接的逻辑线路，物理上可以使用有线线缆和无线电波|
|主机(host)|通过网络为其他机器提供服务的计算机，也称为服务器|
|客户端(client)|指从主机处获得服务的计算机（如个人计算机等），也称为终端或者Terminal|

#### 客户端服务器型与点对点型

|名称|说明|
|---|---|
|客户端服务器型|一种严格区分服务提供方和服务接收方的架构。客户端向服务器请求服务，而服务器响应客户端的服务请求。例如：HTTP通信|
|点对点型|一种不严格区分服务提供方和服务接收方的架构。参与网络的计算机可能成为网络中的服务器，也可能成为网络中的客户端。也称为水平分布或功能水平分布系统。例如：QQ视频通话|

#### LAN和WAN  

|名称|说明|
|---|---|
|LAN局域网(Local Area Network)|用于机构内部通信与信息传递。一般在LAN内部使用私有IP地址|
|MAN城域网(Metropolitan Area Network)|使用光缆在相距较远的校园园区或城市内建立通信的网络|
|WAN广域网(Wide Area Network)|用于跨地区或国家间远程通信。一般由电信运营商建设。在WAN中可以使用全局IP地址进行通信|

# OSI参考模型

#### OSI参考模型分层

|名称|数据形式|主要网络协议|功能|
|---|---|---|---|
|L1：物理层|比特流（0与1的序列）|略|比特流与电子信号之间的切换|
|L2：数据链路层|帧|略|数据帧与比特流之间的转换|
|L3：网络层|分组、数据报|IP|将数据传输到目标地址，主要负责寻址和路由选择。|
|L4：传输层|段、消息|TCP、UDP|是否有数据丢失，起着可靠传输的作用。|
|L5：会话层|应用数据|SSl|合适建立连接、合适断开连接以及保持多久的连接？|
|L6：表现层|应用数据|ASCII编码|数据格式的转换，如文字流、图像、声音等|
|L7：应用层|应用数据|HTTP、FTP|针对特定应用的协议，如文件传输、电子邮件、远程登录等协议。|

**使用分层结构模型具有以下优点**  
+ 根据网络实际处理过程，按功能分类，从而便于理解和掌握。
+ 能够定义标准接口，使不同厂商制造的硬件之间可以互联。
+ 工程师在设计与研发网络硬件时，可以把思维限定在一定范围内。
+ 当某层内部发生变化时，不会给其它层带来影响。

在这一模型中，每个分层都接收由它下一层所提供的特定服务，并且负责为自己的上一层提供特定的服务。上下层之间进行交互时所遵循的约定叫做"接口"。同一层之间的交互所遵循的约定叫做协议。

协议分层就如同计算机软件中的模块化开发。而分层的劣势，可能就在于过分模块化、使处理变得更加沉重以及每个模块都不得不实现相似的处理逻辑等问题。

#### L2到L4数据格式

![UML](https://zhazige-com.oss-cn-qingdao.aliyuncs.com/interne-hardware/L2-L4-dataformat.jpg?x-oss-process=style/watermark)

| 前导码             | 帧开始符          | MAC目标地址 | MAC源地址 | 以太类型  | 负载            | 冗余校验FCS | 帧间距     |
| ------------------ | ----------------- | ----------- | --------- | --------- | --------------- | ----------- | ---------- |
| 7个10101010 octets | 1个10101011 octet | 6个octets   | 6个octets | 2个octets | 46-1500个octets | 4个octets   | 12个octets |



> FCS：Frame Check Sequence（帧校验序列），俗称帧尾，即计算机网络数据链路层的协议数据单元（帧）的尾部字段，是一段4个字节的循环冗余校验码。源节点发送数据帧时，由帧的帧头和数据部分计算得出FCS，目的节点接收到后，用同样的方式再计算一遍FCS，如果与接收到的FCS不同，则认为帧在传输过程中发生了错误，从而选择丢弃这个帧。————百度百科

计算机通信会在每一个分组中附加上源主机地址和目标主机地址送给通信线路。这些发送端地址、接收端地址以及分组序号写入的部分称为"报文首部"。

一个较大的数据被分为多个分组时，为了标明是原始数据中的哪一部分，就有必要将分组的序号写入包中。接收端会根据这个序号，再将每个分组按照序号从新装配为原始数据。

通信协议中，通常会规定报文首部应该写入哪些信息、应该如何处理这些信息。相互通信的每一台计算机则根据协议构造报文首部、读取首部内容等。为了双方能正确通信，分组的发送方和接收方有必要对报文首部和内容保持一致的定义和解释。

# 传输方式的分类

#### 面向有连接型和面向无连接型

+ 面向有连接型：在发送数据之前，需要在收发主机之间连接一条通信线路
+ 面向无连接型：不要求建立和断开连接。发送端可于任何时候发送数据

#### 电路交换与分组交换

在电路交换中，交换机主要负责数据的中转处理。计算机首先被连接到交换机上，而交换机与交换机之间则由众多通信链路再继续连接。因此计算机之间在发送数据时，需要通过交换机与目标主机之间建立通信线路。

如果某条电路只是用来连接两台计算机的通信线路，就意味着只需在这两台计算机之间实现通信，因此这两台计算机是可以独占线路进行数据传输的。但是，如果一条电路上连接了多台计算机，而这些计算机之间需要相互传递数据，就会出现新的问题。鉴于一台计算机在收发信息时会独占整个电路，其他计算机只能等待这台计算机处理结束以后才有机会使用这条电路收发数据。

为此，人们想到了一个新的方法，即让连接到通信电路的计算机将所要发送的数据分成多个数据包，按照一定的顺序排列之后分别发送。这就是分组交换。有了分组交换，数据被细分后，所有的计算机就可以一齐收发数据，这样也就提高了通信线路的利用率。由于在分组的过程中，已经在每个分组的首部写入了发送端和接收端的地址，使用即使同一条线路同时为多个用户提供服务，也可以明确区分每个分组数据发往的目的地，以及它是与哪台计算机进行的通信。

发送端计算机将数据分组发送给路由器，路由器收到这些分组数据以后，缓存到自己的缓冲区，然后再转发给目标计算机。

路由器接收到数据以后会按照顺序缓存到相应的队列当中，再以先进先出的顺序将它们逐一发送出去。

在分组交换中，计算机与路由器之间以及路由器与路由器之间通常只有一条通信线路。因此，这条线路其实是一条共享线路。在电路交换中，计算机之间的传输速度不变。然而在分组交换中，通信线路的速度可能会有所不同。根据网络拥堵的情况，数据达到目标地址的时间有长有短。另外，路由器的缓存饱和或溢出时，甚至可能会发生分组数据丢失、无法发送到对端的情况。

# 参考资料

1、图解网络硬件/(日)三轮贤一著；盛荣译.—北京：人民邮电出版社，2014.8

2、图解TCP/IP：第5版/(日)竹下隆史等著；乌尼日.其其格译—北京：人民邮电出版社，2013.7

